/* Homepage (index.html) Specific Styles */

/* 1. Featured Issue section */
.featured-issue.dark-theme-card h2 {
  color: var(--patrollers-yellow);
  text-shadow: 2px 2px 0 var(--patrollers-electric-blue), 4px 4px 0 var(--patrollers-cyan), 0 0 8px var(--comic-black);
}

.featured-issue.dark-theme-card p {
  color: var(--patrollers-light-grey-card);
}

.featured-issue .issue-cover-container img {
    max-width: 100%;
    max-height: 75vh;
    border: 5px solid var(--comic-black);
    border-radius: 6px;
    box-shadow: 8px 8px 0 var(--patrollers-medium-grey), 0 0 20px rgba(0,0,0,0.3) inset;
    margin-bottom: 25px;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}
.featured-issue .issue-cover-container img:hover {
  transform: scale(1.04) rotate(-1.5deg);
  box-shadow: 10px 10px 5px var(--patrollers-medium-grey), 0 0 30px rgba(0,0,0,0.4) inset;
}

/* CTA Button with Black Text (if primarily for home, keep here) */
.cta-button-black-text {
  color: var(--comic-black) !important;
  text-shadow: 1px 1px 0px rgba(255,255,255,0.3);
}

/* 2. "More Issues" Grid - Items stacked vertically */
.issues-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 25px;
    text-align: center;
}
.issue-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  transition: transform 0.2s ease;
  padding: 15px;
}
.issue-item:hover { transform: translateY(-6px); }

.issues-grid.dark-theme-card .issue-item h3 {
  color: var(--patrollers-yellow);
  text-shadow: 1px 1px 0 var(--comic-black);
  margin-top: 0;
  margin-bottom: 8px;
  font-size: 2.1em;
}

.issues-grid.dark-theme-card .issue-item p {
  color: var(--patrollers-light-grey-card);
  font-size: 1em;
  margin-bottom: 15px;
  flex-grow: 1;
  text-align: center;
}

.issues-grid.dark-theme-card .issue-item .cta-button-small {
  background: linear-gradient(45deg, var(--patrollers-yellow), var(--patrollers-gold));
  color: var(--comic-black) !important;
  border-color: var(--comic-black);
  box-shadow: 3px 3px 0px var(--comic-black);
  text-shadow: 1px 1px 0px rgba(255,255,255,0.3);
  margin-top: auto;
}

.issues-grid.dark-theme-card .issue-item .cta-button-small:hover {
  background: linear-gradient(45deg, var(--patrollers-cyan), var(--patrollers-electric-blue));
  color: var(--comic-white) !important;
  text-shadow: var(--glitch-text-shadow-blue-hover);
  border-color: var(--patrollers-cyan);
  box-shadow: 1px 1px 0px var(--comic-black);
}

.issue-cover-container.small-cover img {
  width: 100%;
  max-width: 260px;
  height: auto;
  border: 4px solid var(--comic-black);
  border-radius: 4px;
  margin-bottom: 15px;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}
.issue-cover-container.small-cover img:hover { transform: scale(1.07); box-shadow: 6px 6px 12px rgba(0,0,0,0.45); }

/* 3. Special Edition Feature Section */
.special-edition-feature {
  border-color: var(--patrollers-cyan);
  box-shadow: 0 0 20px rgba(0, 221, 255, 0.5), 7px 7px 0px var(--patrollers-electric-blue);
  position: relative;
  padding: 60px 30px 30px 30px;
}

.special-edition-feature h2 {
  color: var(--patrollers-yellow);
  text-shadow: 2px 2px 0 var(--patrollers-electric-blue), 4px 4px 0 var(--patrollers-cyan), 0 0 8px var(--comic-black);
  margin-top: 0;
}

.special-edition-feature p {
  color: var(--patrollers-light-grey-card);
  max-width: 800px;
  margin-left: auto;
  margin-right: auto;
  text-align: center;
}

.special-edition-feature .special-cover-container {
  margin: 20px auto 25px auto;
  max-width: 500px;
  display: block;
}

.special-edition-feature .special-cover-container .patreon-link-locked {
    display: block;
}

.special-edition-feature .special-cover-container img.promo-image {
  max-width: 100%;
  height: auto;
  border: 5px solid var(--comic-black);
  border-radius: 6px;
  box-shadow: 8px 8px 0 var(--patrollers-medium-grey), 0 0 20px rgba(0,0,0,0.3) inset;
}

.special-edition-badge {
  position: absolute;
  top: -15px;
  left: 50%;
  transform: translateX(-50%) rotate(-5deg);
  background: linear-gradient(45deg, var(--patrollers-red-glitch), #ff4d6d);
  color: var(--comic-white);
  font-family: 'Bangers', cursive;
  font-size: 1.6em;
  padding: 6px 20px;
  border-radius: 4px;
  border: 3px solid var(--comic-black);
  box-shadow: 4px 4px 0 var(--comic-black);
  text-shadow: 2px 2px 0 rgba(0,0,0,0.5);
  z-index: 10;
  white-space: nowrap;
}

.patreon-link-locked {
  display: block;
  position: relative;
  overflow: hidden;
  border-radius: 4px;
  cursor: pointer;
}

.patreon-link-locked .promo-image {
  max-width: 100%;
  height: auto;
  display: block;
  border-radius: 4px;
  filter: none;
  opacity: 1;
  transform: none;
  transition: transform 0.3s ease, filter 0.3s ease;
}

.patreon-link-locked::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.35);
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23FFD700' width='90px' height='90px'%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3Cpath d='M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: center center;
  background-size: 90px 90px;
  opacity: 1;
  pointer-events: none;
  border-radius: 4px;
}

.patreon-link-locked:hover .promo-image {
  transform: scale(1.02);
  filter: brightness(1.05);
}

.special-edition-feature .support-cta {
    margin-top: 20px;
}


/* 4. Atmosphere Gallery Section Styles */
.atmosphere-gallery h2 {
  text-shadow: 2px 2px 0 var(--patrollers-electric-blue), 4px 4px 0 var(--patrollers-cyan), 0 0 8px var(--comic-black);
}

.gallery-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 25px;
  margin-top: 20px;
}

.gallery-item {
  background-color: rgba(20, 20, 20, 0.7);
  border: 3px solid var(--patrollers-yellow);
  border-radius: 6px;
  padding: 15px;
  text-align: center;
  box-shadow: 4px 4px 0px var(--patrollers-medium-grey);
  transition: transform 0.3s ease, box-shadow 0.3s ease;
  display: flex;
  flex-direction: column;
  justify-content: space-between; /* Ensures caption is at the bottom */
}

.gallery-item:hover {
  transform: translateY(-5px) scale(1.03);
  box-shadow: 6px 6px 5px var(--patrollers-gold);
}

/* Base styles for gallery images (Desktop First) */
.gallery-item img {
  width: 100%; /* Image will take the full width of its container */
  height: auto;  /* Height will adjust to maintain the image's aspect ratio by default */
  border-radius: 4px;
  margin-bottom: 10px;
  border: 2px solid var(--patrollers-gold);
  object-fit: contain; /* Ensures the entire image is visible, scaled down if necessary */
  display: block; /* Good practice for images in layouts */
  box-sizing: border-box; /* Ensures width/height include border/padding */
}

.gallery-item .gallery-caption {
  font-family: 'Comic Neue', sans-serif;
  font-size: 0.95em;
  color: var(--patrollers-light-grey-card);
  margin-top: auto; /* Pushes caption to the bottom if image is short */
  padding-top: 5px;
  font-style: italic;
}


/* 5. Teasers Section Styles */
.teasers-section.card { background-color: rgba(30,30,30,0.98); }
.teasers-section h2 {
    color: var(--patrollers-yellow);
    text-shadow: 2px 2px 0 var(--patrollers-electric-blue), 4px 4px 0 var(--patrollers-cyan), 0 0 8px var(--comic-black);
}
.teaser-gallery { display: grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap: 25px; margin-top: 25px; }
.teaser-item img {
  max-width: 100%; height: auto; border: 4px solid var(--patrollers-yellow);
  border-radius: 4px; box-shadow: 5px 5px 0px var(--patrollers-electric-blue);
  transition: filter 0.3s ease, transform 0.3s ease;
}
.teaser-item img:hover { filter: brightness(1.15) saturate(1.3); transform: scale(1.03); }
.teaser-item .teaser-caption {
  font-family: 'Press Start 2P', cursive; font-size: 0.9em;
  color: var(--patrollers-light-grey-card);
  margin-top: 12px; text-align: center;
  text-shadow: 1px 1px 0 var(--comic-black);
}
.teaser-item .teaser-caption.coming-soon-text {
    font-family: 'Bangers', cursive; font-size: 1.4em;
    color: var(--patrollers-yellow);
    text-shadow: 2px 2px 0 var(--comic-black), var(--glitch-text-shadow-cyan-main);
}

.patrollers-logo-animated {
  max-width: 150px;
  height: auto;
  display: block;
  margin-left: auto;
  margin-right: auto;
  margin-bottom: 10px;
  animation: logo-pulse 2.5s infinite ease-in-out;
  border: none;
  box-shadow: none;
}

@keyframes logo-pulse {
  0% {
    transform: scale(1);
    filter: drop-shadow(0 0 3px var(--patrollers-yellow));
  }
  50% {
    transform: scale(1.08);
    filter: drop-shadow(0 0 10px var(--patrollers-gold)) drop-shadow(0 0 5px var(--patrollers-yellow));
  }
  100% {
    transform: scale(1);
    filter: drop-shadow(0 0 3px var(--patrollers-yellow));
  }
}

.teasers-section.card.dark-theme-card .teaser-item img.patrollers-logo-animated {
  border: none;
  box-shadow: none;
}

/* Responsive adjustments for HOME page elements */
@media (max-width: 768px) { /* Tablet */
  .issues-grid { grid-template-columns: repeat(2, 1fr); }
  .gallery-grid { grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); }
  .teaser-gallery { grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); }
}

@media (max-width: 480px) { /* Mobile */
  .issues-grid { grid-template-columns: 1fr; }
  .gallery-grid { grid-template-columns: 1fr; } /* Gallery items stack on mobile */
  .teaser-gallery { grid-template-columns: 1fr; }
  .special-edition-badge { font-size: 1.4em; padding: 5px 15px;}

  /* === MOBILE SPECIFIC GALLERY IMAGE STYLING === */
  .gallery-item img {
    /* display: block; already set in base style */
    /* box-sizing: border-box; already set in base style */
    /* width: 100%; already set in base style */
    height: 280px;   /* Set a fixed height for all gallery images on mobile */
    /* max-height: 280px; /* Redundant due to height, but harmless */
    object-fit: cover; /* Cover the area, cropping if aspect ratio mismatches */
    object-position: center center; /* Center the image content if cropped */
  }
}
